<!-- motrix_envs/src/motrix_envs/manipulation/panda/xmls/panda_scene_pickplace.xml -->
<mujoco model="panda scene">
  <!-- 引入 Panda + 地面场景（机器人、本体、桌面、地面等都在这里） -->
  <include file="mjx_scene.xml"/>

  <!-- 在已有场景上额外添加一个带自由关节的 box（cube） -->
  <worldbody>
    <!-- 带自由关节的 box（cube），摆在桌面上，具体初始位置由 keyframe / reset 时覆盖 -->
    <!-- 注意：pos 只作为一个默认值，实际训练过程中 reset() 会随机 x,y -->
    <body name="box" pos="0.5 0 0.03">
      <!-- 适当减小质量，减轻惯性，利于被夹住保持 -->
      <inertial mass="0.06" diaginertia="0.00004 0.00004 0.00004" pos="0 0 0"/>
      <freejoint/>
      <!-- 几何体属性：增大摩擦、略微放宽接触参数，让 cube 不容易从指尖滑掉 -->
      <geom
        type="box"
        name="box"
        size="0.02 0.02 0.03"
        condim="3"
        friction="1.6 0.03 0.003"
        rgba="0 1 0 1"
        contype="2"
        conaffinity="1"
        margin="0.0015"
        solref="0.02 1"
        solimp="0.95 0.995 0.001"
      />
    </body>
  </worldbody>

  <!-- 一些方便调试/脚本控制用的 keyframe（home / pickup 姿态） -->
  <keyframe>
    <key name="home"
         qpos="0 0.3 0 -1.57079 0 2.0 -0.7853 0.04  0.04 0.7 0 0.03 1 0 0 0"
         ctrl="0 0.3 0 -1.57079 0 2.0 -0.7853 0.04"/>

    <key name="pickup"
         qpos="0.2897 0.50732 -0.140016 -2.176   -0.0310497 2.51592 -0.49251  0.04
               0.0399982 0.511684 0.0645413 0.0298665 0.665781 2.76848e-17 -2.27527e-17 -0.746147"
         ctrl="0.2897 0.423 -0.144392 -2.13105 -0.0291743 2.52586 -0.492492 0.04"/>

    <key name="pickup1"
         qpos="0.2897 0.496673 -0.142836 -2.14746 -0.0295746 2.52378 -0.492496 0.04
               0.0399988 0.529553 0.0731702 0.0299388 0.94209 8.84613e-06 -4.97524e-06 -0.335361"
         ctrl="0.2897 0.458 -0.144392 -2.13105 -0.0291743 2.52586 -0.492492 0.04"/>
  </keyframe>
</mujoco>
